"use strict";(self.webpackChunkhuanglian=self.webpackChunkhuanglian||[]).push([[2118],{77430:(s,n,a)=>{a.r(n),a.d(n,{data:()=>e});const e={key:"v-68cfa448",path:"/sql/mysql/04_SQL%E6%A6%82%E8%BF%B0%E5%8F%8ADDL.html",title:"",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"一、关于SQL",slug:"一、关于sql",children:[{level:3,title:"1.1、SQL概述",slug:"_1-1、sql概述",children:[]},{level:3,title:"1.2、SQL分类",slug:"_1-2、sql分类",children:[]}]},{level:2,title:"二、数据库操作",slug:"二、数据库操作",children:[{level:3,title:"2.1、查看数据库",slug:"_2-1、查看数据库",children:[]},{level:3,title:"2.2、切换数据库",slug:"_2-2、切换数据库",children:[]},{level:3,title:"2.3、查询当前使用的数据库",slug:"_2-3、查询当前使用的数据库",children:[]},{level:3,title:"2.4、创建数据库",slug:"_2-4、创建数据库",children:[]},{level:3,title:"2.5、查看数据库创建信息",slug:"_2-5、查看数据库创建信息",children:[]},{level:3,title:"2.6、修改数据库",slug:"_2-6、修改数据库",children:[]},{level:3,title:"2.7、删除数据库",slug:"_2-7、删除数据库",children:[]}]},{level:2,title:"三、表的操作",slug:"三、表的操作",children:[{level:3,title:"3.1、数据类型",slug:"_3-1、数据类型",children:[]},{level:3,title:"3.2、创建表",slug:"_3-2、创建表",children:[]},{level:3,title:"3.3、查看表",slug:"_3-3、查看表",children:[]},{level:3,title:"3.4、修改表",slug:"_3-4、修改表",children:[]},{level:3,title:"3.5、删除表",slug:"_3-5、删除表",children:[]}]}],filePathRelative:"sql/mysql/04_SQL概述及DDL.md",git:{updatedTime:1661237516e3,contributors:[{name:"黄健",email:"huang.jian@trs.com.cn",commits:1}]}}},2608:(s,n,a)=>{a.r(n),a.d(n,{default:()=>l});const e=(0,a(66252).uE)('<h2 id="一、关于sql" tabindex="-1"><a class="header-anchor" href="#一、关于sql" aria-hidden="true">#</a> 一、关于SQL</h2><h3 id="_1-1、sql概述" tabindex="-1"><a class="header-anchor" href="#_1-1、sql概述" aria-hidden="true">#</a> 1.1、SQL概述</h3><blockquote><p>SQL：Structured Query Language（结构化查询语言），客户端使用SQL来操作数据库，可以应用到所有关系型数据库中。</p><p>SQL语言标准由ISO（国际标准化组织）发布，ISO定义了很多SQL标准（例如SQL99）对RDBMS进行统一的操作，相同的语句可以操作Oracle，MySQL。<strong>各个数据库厂商有自己的标准，类似于方言，MySQL中的limit。</strong></p><p>SQL语法：</p><ul><li>SQL语句可以在单行或多行书写，以分号结尾；</li><li>可使用空格和缩进来增强语句的可读性；</li><li>MySQL不区分大小写，建议大写。</li></ul><p>经验：通常执行对数据库的“增删改查”，简称C（Create）R（Read）U（Update）D（Delete）。</p></blockquote><h3 id="_1-2、sql分类" tabindex="-1"><a class="header-anchor" href="#_1-2、sql分类" aria-hidden="true">#</a> 1.2、SQL分类</h3><blockquote><p>DDL(Data Definition Language)数据定义语言：创建、删除、修改库与表结构；</p><p>DML(Data Manipulation Language)数据操作语言：增、删、改表记录；</p><p>TPL(Transaction Process Language)事务处理语言：用于对事务进行处理；</p><p><strong>DQL(Data Query Language)数据查询语言：用来查询记录；</strong></p><p>DCL(Data Control Language)数据控制语言：用来定义访问权限和安全级别。</p></blockquote><h2 id="二、数据库操作" tabindex="-1"><a class="header-anchor" href="#二、数据库操作" aria-hidden="true">#</a> 二、数据库操作</h2><h3 id="_2-1、查看数据库" tabindex="-1"><a class="header-anchor" href="#_2-1、查看数据库" aria-hidden="true">#</a> 2.1、查看数据库</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 查看所有的数据库</span>\nmysql<span class="token operator">&gt;</span> <span class="token keyword">SHOW</span> <span class="token keyword">DATABASES</span><span class="token punctuation">;</span> \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><table><thead><tr><th style="text-align:left;">数据库名称</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;">information_schema</td><td style="text-align:left;">信息数据库，其中保存着关于所有数据库的信息（元数据），元数据是关于数据的数据，如数据库名或表名，列的数据类型，或访问权限等。</td></tr><tr><td style="text-align:left;">mysql</td><td style="text-align:left;">核心数据库，主要负责存储数据库的用户、权限设置、关键字等，以及需要使用的控制和管理信息，不可以删除。</td></tr><tr><td style="text-align:left;">performance_schema</td><td style="text-align:left;">性能优化的数据库，MySQL 5.5版本中新增的一个性能优化的引擎。</td></tr><tr><td style="text-align:left;">sys</td><td style="text-align:left;">系统数据库，MySQL5.7版本中新增的可以快速的了解元数据信息的系统库，便于发现数据库的多样信息，解决性能瓶颈问题。</td></tr></tbody></table><h3 id="_2-2、切换数据库" tabindex="-1"><a class="header-anchor" href="#_2-2、切换数据库" aria-hidden="true">#</a> 2.2、切换数据库</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 切换到想要操作的数据库</span>\nmysql<span class="token operator">&gt;</span> <span class="token keyword">USE</span> sys<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_2-3、查询当前使用的数据库" tabindex="-1"><a class="header-anchor" href="#_2-3、查询当前使用的数据库" aria-hidden="true">#</a> 2.3、查询当前使用的数据库</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span>  <span class="token keyword">select</span> <span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="_2-4、创建数据库" tabindex="-1"><a class="header-anchor" href="#_2-4、创建数据库" aria-hidden="true">#</a> 2.4、创建数据库</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">#创建名字为mydb1数据库</span>\nmysql<span class="token operator">&gt;</span> <span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> mydb1<span class="token punctuation">;</span> \n<span class="token comment">#创建数据库并设置编码格式为utf8</span>\nmysql<span class="token operator">&gt;</span> <span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> mydb2 <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> utf8<span class="token punctuation">;</span>\n<span class="token comment">#如果mydb3数据库不存在，则创建；如果存在，则不创建。</span>\nmysql<span class="token operator">&gt;</span> <span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> mydb3<span class="token punctuation">;</span> \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_2-5、查看数据库创建信息" tabindex="-1"><a class="header-anchor" href="#_2-5、查看数据库创建信息" aria-hidden="true">#</a> 2.5、查看数据库创建信息</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code> mysql<span class="token operator">&gt;</span> <span class="token keyword">SHOW</span> <span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> mydb1<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="_2-6、修改数据库" tabindex="-1"><a class="header-anchor" href="#_2-6、修改数据库" aria-hidden="true">#</a> 2.6、修改数据库</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">#修改数据库的字符集</span>\nmysql<span class="token operator">&gt;</span> <span class="token keyword">ALTER</span> <span class="token keyword">DATABASE</span> mydb1 <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> gbk<span class="token punctuation">;</span> \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_2-7、删除数据库" tabindex="-1"><a class="header-anchor" href="#_2-7、删除数据库" aria-hidden="true">#</a> 2.7、删除数据库</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">#删除数据库mydb1</span>\nmysql<span class="token operator">&gt;</span> <span class="token keyword">DROP</span> <span class="token keyword">DATABASE</span> mydb1<span class="token punctuation">;</span> \n<span class="token comment">#如果存在数据库mydb2就删除</span>\nmysql<span class="token operator">&gt;</span> <span class="token keyword">DROP</span> <span class="token keyword">DATABASE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> mydb2<span class="token punctuation">;</span> \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="三、表的操作" tabindex="-1"><a class="header-anchor" href="#三、表的操作" aria-hidden="true">#</a> 三、表的操作</h2><h3 id="_3-1、数据类型" tabindex="-1"><a class="header-anchor" href="#_3-1、数据类型" aria-hidden="true">#</a> 3.1、数据类型</h3><blockquote><p>MySQL支持多种类型，大致可以分为三类：</p><ul><li>数值；</li><li>字符串(字符)类型；</li><li>日期时间。</li></ul><p>数据类型对于我们约束数据的类型有很大的帮助。</p></blockquote><h4 id="_3-1-1、数值类型" tabindex="-1"><a class="header-anchor" href="#_3-1-1、数值类型" aria-hidden="true">#</a> 3.1.1、数值类型</h4><table><thead><tr><th>类型</th><th>大小</th><th>范围（有符号）</th><th>范围（无符号）</th><th>用途</th></tr></thead><tbody><tr><td>INT</td><td>4 字节</td><td>(-2 147 483 648，2 147 483 647)</td><td>(0，4 294 967 295)</td><td>大整数值</td></tr><tr><td>DOUBLE</td><td>8 字节</td><td>（-1.797E+308,-2.22E-308）</td><td>(0,2.22E-308,1.797E+308)</td><td>双精度浮点数值</td></tr><tr><td>DOUBLE(M,D)</td><td>8个字节，M表示长度，D表示小数位数</td><td>同上，受M和D的约束 DOUBLE(5,2) -999.99-999.99</td><td>同上，受M和D的约束</td><td>双精度浮点数值</td></tr><tr><td>DECIMAL(M,D)</td><td>DECIMAL(M,D)</td><td>依赖于M和D的值，M最大值为65</td><td>依赖于M和D的值，M最大值为65</td><td>小数值，和钱相关，不会出现精度缺失的问题</td></tr></tbody></table><h4 id="_3-1-2、字符串类型" tabindex="-1"><a class="header-anchor" href="#_3-1-2、字符串类型" aria-hidden="true">#</a> 3.1.2、字符串类型</h4><table><thead><tr><th>类型</th><th>大小</th><th>用途</th></tr></thead><tbody><tr><td>CHAR</td><td>0-255字符</td><td>定长字符串CHAR(10)10个字符</td></tr><tr><td>VARCHAR</td><td>0-65535 字节</td><td>变长字符串VARCHAR(10)10个字符</td></tr><tr><td>BLOB（binary large object）</td><td>0-65535字节</td><td>二进制形式的长文本数据</td></tr><tr><td>TEXT</td><td>0-65535字节</td><td>长文本数据</td></tr></tbody></table><blockquote><p>关于CHAR和VARCHAR：</p><ul><li>CHAR(255) 数据长度不足指定长度，补足到指定长度，用于身份证号，手机号，时间固定长度的内容；</li><li>VARCHAR(65535) 数据长度不足指定长度，不补足到指定长度，用于用户名，备注不固定长度的内容；</li><li>VARCHAR单独至少花一个字节保存数据长度，如果长度超过一个字节，就要花费两个字节。</li></ul></blockquote><h4 id="_3-1-3、日期时间类型" tabindex="-1"><a class="header-anchor" href="#_3-1-3、日期时间类型" aria-hidden="true">#</a> 3.1.3、日期时间类型</h4><table><thead><tr><th>类型</th><th style="text-align:left;">大小</th><th>范围</th><th>格式</th><th>用途</th></tr></thead><tbody><tr><td>DATE</td><td style="text-align:left;">3</td><td>1000-01-01/9999-12-31</td><td>YYYY-MM-DD</td><td>日期值</td></tr><tr><td>TIME</td><td style="text-align:left;">3</td><td>&#39;-838:59:59&#39;/&#39;838:59:59&#39;</td><td>HH:MM:SS</td><td>时间值或持续时间</td></tr><tr><td>YEAR</td><td style="text-align:left;">1</td><td>1901/2155</td><td>YYYY</td><td>年份值</td></tr><tr><td>DATETIME</td><td style="text-align:left;">8</td><td>1000-01-01 00:00:00/9999-12-31 23:59:59</td><td>YYYY-MM-DD HH:MM:SS</td><td>混合日期和时间值</td></tr><tr><td>TIMESTAMP</td><td style="text-align:left;">4</td><td>1970-01-01 00:00:00/2038 结束时间是第 <strong>2147483647</strong> 秒北京时间 <strong>2038-1-19 11:14:07</strong>，格林尼治时间 2038年1月19日 凌晨 03:14:07</td><td>YYYYMMDD HHMMSS</td><td>混合日期和时间值，时间戳</td></tr></tbody></table><h3 id="_3-2、创建表" tabindex="-1"><a class="header-anchor" href="#_3-2、创建表" aria-hidden="true">#</a> 3.2、创建表</h3><blockquote><p>语法：</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token punctuation">[</span><span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span><span class="token punctuation">]</span> 表名（\n\t列名 数据类型 <span class="token punctuation">[</span>约束<span class="token punctuation">]</span><span class="token punctuation">,</span>\n\t列名 数据类型 <span class="token punctuation">[</span>约束<span class="token punctuation">]</span><span class="token punctuation">,</span>\n\t列名 数据类型 <span class="token punctuation">[</span>约束<span class="token punctuation">]</span>       <span class="token comment">//最后一列的末尾不加逗号</span>\n）<span class="token punctuation">[</span><span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">]</span><span class="token punctuation">;</span>\t\t\t<span class="token comment">//可根据需要指定表的字符编码集</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>关于约束后面会讲到，这里可以暂时不关注。</p><p>举例：</p></blockquote><p>学生表（student）</p><table><thead><tr><th>列名</th><th>数据类型</th><th>说明</th></tr></thead><tbody><tr><td>id</td><td>INT</td><td>编号</td></tr><tr><td>name</td><td>VARCHAR(20)</td><td>姓名</td></tr><tr><td>age</td><td>INT</td><td>年龄</td></tr><tr><td>birthday</td><td>TIMESTAMP</td><td>生日</td></tr><tr><td>phonenum</td><td>CHAR(11)</td><td>手机号</td></tr><tr><td>address</td><td>VARCHAR(20)</td><td>住址</td></tr></tbody></table><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> student <span class="token punctuation">(</span>\n\tid <span class="token keyword">INT</span><span class="token punctuation">,</span>\n    name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    age <span class="token keyword">INT</span><span class="token punctuation">,</span>\n    birthday <span class="token keyword">TIMESTAMP</span><span class="token punctuation">,</span>\n    phonenum <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    address <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="_3-3、查看表" tabindex="-1"><a class="header-anchor" href="#_3-3、查看表" aria-hidden="true">#</a> 3.3、查看表</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 查看当前数据库中所有表名称</span>\n<span class="token keyword">SHOW</span> <span class="token keyword">TABLES</span><span class="token punctuation">;</span>\n<span class="token comment"># 查看指定表的创建语句</span>\n<span class="token keyword">SHOW</span> <span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> 表名<span class="token punctuation">;</span>\n<span class="token comment"># 查看表结构</span>\n<span class="token keyword">DESC</span> 表名<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_3-4、修改表" tabindex="-1"><a class="header-anchor" href="#_3-4、修改表" aria-hidden="true">#</a> 3.4、修改表</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 添加列</span>\n<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 <span class="token keyword">ADD</span> <span class="token punctuation">(</span>\n    列名 列类型<span class="token punctuation">,</span>\n    列名 列类型\n<span class="token punctuation">)</span>\n\n<span class="token comment"># 修改列类型(如果被修改的列已存在数据，那么新的类型可能会影响到已存在数据), 修改表中的某列时，也要写全列的名字，数据类型，约束</span>\n<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 <span class="token keyword">MODIFY</span> 列名 列类型<span class="token punctuation">;</span>   \n\n<span class="token comment"># 修改列名, 在给定列新名称时，要指定列的类型和约束</span>\n<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 CHANGE 原列名 新列名 列类型<span class="token punctuation">;</span>\n\n<span class="token comment"># 删除列, 删除列时，每次只能删除一列</span>\n<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 <span class="token keyword">DROP</span> 列名<span class="token punctuation">;</span>\n\n<span class="token comment"># 修改表名称</span>\n<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 原表名 <span class="token keyword">RENAME</span> <span class="token keyword">TO</span> 新表名<span class="token punctuation">;</span>\n<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 原表名 <span class="token keyword">RENAME</span> 新表名<span class="token punctuation">;</span> \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="_3-5、删除表" tabindex="-1"><a class="header-anchor" href="#_3-5、删除表" aria-hidden="true">#</a> 3.5、删除表</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> 表名<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div>',44),t={},l=(0,a(83744).Z)(t,[["render",function(s,n){return e}]])}}]);