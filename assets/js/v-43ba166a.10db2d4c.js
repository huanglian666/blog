"use strict";(self.webpackChunkhuanglian=self.webpackChunkhuanglian||[]).push([[6738],{3978:(n,s,a)=>{a.r(s),a.d(s,{data:()=>p});const p={key:"v-43ba166a",path:"/sql/mysql/07_DQL.html",title:"",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"一、准备工作",slug:"一、准备工作",children:[]},{level:2,title:"二、单表查询",slug:"二、单表查询",children:[{level:3,title:"2.1、基本查询",slug:"_2-1、基本查询",children:[]},{level:3,title:"2.2、排序",slug:"_2-2、排序",children:[]},{level:3,title:"2.3、聚合函数",slug:"_2-3、聚合函数",children:[]},{level:3,title:"2.4、分组查询",slug:"_2-4、分组查询",children:[]},{level:3,title:"2.5、LIMIT子句",slug:"_2-5、limit子句",children:[]},{level:3,title:"2.6、查询语句执行顺序",slug:"_2-6、查询语句执行顺序",children:[]}]},{level:2,title:"三、多表查询",slug:"三、多表查询",children:[{level:3,title:"3.1、合并结果集",slug:"_3-1、合并结果集",children:[]},{level:3,title:"3.2、内连接",slug:"_3-2、内连接",children:[]},{level:3,title:"3.3、外连接",slug:"_3-3、外连接",children:[]}]},{level:2,title:"四、子查询",slug:"四、子查询",children:[{level:3,title:"4.1、WHERE后",slug:"_4-1、where后",children:[]},{level:3,title:"4.2、FROM后",slug:"_4-2、from后",children:[]}]}],filePathRelative:"sql/mysql/07_DQL.md",git:{updatedTime:1661237516e3,contributors:[{name:"黄健",email:"huang.jian@trs.com.cn",commits:1}]}}},90323:(n,s,a)=>{a.r(s),a.d(s,{default:()=>e});const p=(0,a(66252).uE)('<h2 id="一、准备工作" tabindex="-1"><a class="header-anchor" href="#一、准备工作" aria-hidden="true">#</a> 一、准备工作</h2><p>查询操作是所有操作中使用最频繁的操作，为了进行查询的学习，首先运行一段SQL脚本。</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">DATABASE</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> mytest<span class="token punctuation">;</span>\n<span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> mytest<span class="token punctuation">;</span>\n\n<span class="token keyword">USE</span> mytest<span class="token punctuation">;</span>\n\n<span class="token comment">/*\n\t部门表\n\tdeptno\t部门编号\n\tdname\t部门名称\n\tloc\t\t部门位置\n*/</span>\n<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> dept<span class="token punctuation">(</span>\n\tdeptno\t\t<span class="token keyword">INT</span> \t<span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>\n\tdname\t\t<span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n\tloc \t\t<span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">/*\n\t雇员表\n\tempno\t\t员工编号\n\tename\t\t员工姓名\n\tjob\t\t\t员工工种\n\tmgr\t\t\t上级编号\n\thiredate\t入职日期 \t\n\tsal\t\t\t薪资\n\tcomm\t\t奖金\n\tdeptno\t\t部门编号\n*/</span>\n<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> emp<span class="token punctuation">(</span>\n\tempno\t\t<span class="token keyword">INT</span> \t<span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>\n\tename\t\t<span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n\tjob\t\t<span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n\tmgr\t\t<span class="token keyword">INT</span><span class="token punctuation">,</span>\n\thiredate\t<span class="token keyword">DATE</span><span class="token punctuation">,</span>\n\tsal\t\t<span class="token keyword">DECIMAL</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n\tcomm \t\t<span class="token keyword">DECIMAL</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n\tdeptno\t\t<span class="token keyword">INT</span><span class="token punctuation">,</span>\n\t<span class="token keyword">CONSTRAINT</span> fk_emp <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>mgr<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> emp<span class="token punctuation">(</span>empno<span class="token punctuation">)</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">/*\n\t创建工资等级表\n\tgrade\t工资等级编号\n\tlosal\t最低工资\n\thisal\t最高工资\n*/</span>\n<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> salgrade<span class="token punctuation">(</span>\n\tgrade\t\t<span class="token keyword">INT</span> \t<span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>\n\tlosal\t\t<span class="token keyword">INT</span><span class="token punctuation">,</span>\n\thisal\t\t<span class="token keyword">INT</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">/*\n\t创建学生表\n\tsid\t\t\t学生编号\n\tsname\t\t学生姓名\n\tage\t\t\t学生年龄\n\tgander\t\t学生性别\n\tprovince\t省份\n\ttuition\t\t学费\n*/</span>\n<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> stu<span class="token punctuation">(</span>\n\tsid\t\t<span class="token keyword">INT</span> \t<span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>\n\tsname\t\t<span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n\tage\t\t<span class="token keyword">INT</span><span class="token punctuation">,</span>\n\tgander\t\t<span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n\tprovince\t<span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n\ttuition\t\t<span class="token keyword">INT</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">/*插入dept表数据*/</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> dept <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">&#39;研发部&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;北京&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> dept <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">&#39;市场部&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;上海&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> dept <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token string">&#39;行政部&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;北京&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> dept <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token string">&#39;财务部&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;北京&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">/*插入salgrade表数据*/</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> salgrade <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">7000</span><span class="token punctuation">,</span> <span class="token number">12000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> salgrade <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">12010</span><span class="token punctuation">,</span> <span class="token number">14000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> salgrade <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">14010</span><span class="token punctuation">,</span> <span class="token number">20000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> salgrade <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">20010</span><span class="token punctuation">,</span> <span class="token number">30000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> salgrade <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">30010</span><span class="token punctuation">,</span> <span class="token number">99990</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">/*插入emp表数据*/</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1009</span><span class="token punctuation">,</span> <span class="token string">&#39;Smith&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;董事长&#39;</span><span class="token punctuation">,</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> <span class="token string">&#39;2001-11-17&#39;</span><span class="token punctuation">,</span> <span class="token number">50000</span><span class="token punctuation">,</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1004</span><span class="token punctuation">,</span> <span class="token string">&#39;Tom&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;经理&#39;</span><span class="token punctuation">,</span> <span class="token number">1009</span><span class="token punctuation">,</span> <span class="token string">&#39;2001-04-02&#39;</span><span class="token punctuation">,</span> <span class="token number">29750</span><span class="token punctuation">,</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1006</span><span class="token punctuation">,</span> <span class="token string">&#39;Lucy&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;经理&#39;</span><span class="token punctuation">,</span> <span class="token number">1009</span><span class="token punctuation">,</span> <span class="token string">&#39;2001-05-01&#39;</span><span class="token punctuation">,</span> <span class="token number">28500</span><span class="token punctuation">,</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1007</span><span class="token punctuation">,</span> <span class="token string">&#39;Lily&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;架构师&#39;</span><span class="token punctuation">,</span> <span class="token number">1009</span><span class="token punctuation">,</span> <span class="token string">&#39;2001-09-01&#39;</span><span class="token punctuation">,</span> <span class="token number">24500</span><span class="token punctuation">,</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1008</span><span class="token punctuation">,</span> <span class="token string">&#39;John&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;工程师&#39;</span><span class="token punctuation">,</span> <span class="token number">1004</span><span class="token punctuation">,</span> <span class="token string">&#39;2007-04-19&#39;</span><span class="token punctuation">,</span> <span class="token number">30000</span><span class="token punctuation">,</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1013</span><span class="token punctuation">,</span> <span class="token string">&#39;周杰伦&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;工程师&#39;</span><span class="token punctuation">,</span> <span class="token number">1004</span><span class="token punctuation">,</span> <span class="token string">&#39;2001-12-03&#39;</span><span class="token punctuation">,</span> <span class="token number">30000</span><span class="token punctuation">,</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1002</span><span class="token punctuation">,</span> <span class="token string">&#39;周星驰&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;销售员&#39;</span><span class="token punctuation">,</span> <span class="token number">1006</span><span class="token punctuation">,</span> <span class="token string">&#39;2001-02-20&#39;</span><span class="token punctuation">,</span> <span class="token number">16000</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1003</span><span class="token punctuation">,</span> <span class="token string">&#39;成龙&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;销售员&#39;</span><span class="token punctuation">,</span> <span class="token number">1006</span><span class="token punctuation">,</span> <span class="token string">&#39;2001-02-22&#39;</span><span class="token punctuation">,</span> <span class="token number">12500</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1005</span><span class="token punctuation">,</span> <span class="token string">&#39;约翰逊&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;销售员&#39;</span><span class="token punctuation">,</span> <span class="token number">1006</span><span class="token punctuation">,</span> <span class="token string">&#39;2001-09-28&#39;</span><span class="token punctuation">,</span> <span class="token number">12500</span><span class="token punctuation">,</span> <span class="token number">14000</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1010</span><span class="token punctuation">,</span> <span class="token string">&#39;鲍威尔&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;销售员&#39;</span><span class="token punctuation">,</span> <span class="token number">1006</span><span class="token punctuation">,</span> <span class="token string">&#39;2001-09-08&#39;</span><span class="token punctuation">,</span> <span class="token number">15000</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1012</span><span class="token punctuation">,</span> <span class="token string">&#39;史泰龙&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;文员&#39;</span><span class="token punctuation">,</span> <span class="token number">1006</span><span class="token punctuation">,</span> <span class="token string">&#39;2001-12-03&#39;</span><span class="token punctuation">,</span> <span class="token number">9500</span><span class="token punctuation">,</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1014</span><span class="token punctuation">,</span> <span class="token string">&#39;马克思&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;文员&#39;</span><span class="token punctuation">,</span> <span class="token number">1007</span><span class="token punctuation">,</span> <span class="token string">&#39;2002-01-23&#39;</span><span class="token punctuation">,</span> <span class="token number">13000</span><span class="token punctuation">,</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1011</span><span class="token punctuation">,</span> <span class="token string">&#39;恩格斯&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;文员&#39;</span><span class="token punctuation">,</span> <span class="token number">1008</span><span class="token punctuation">,</span> <span class="token string">&#39;2007-05-23&#39;</span><span class="token punctuation">,</span> <span class="token number">11000</span><span class="token punctuation">,</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1001</span><span class="token punctuation">,</span> <span class="token string">&#39;辛格&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;文员&#39;</span><span class="token punctuation">,</span> <span class="token number">1013</span><span class="token punctuation">,</span> <span class="token string">&#39;2000-12-17&#39;</span><span class="token punctuation">,</span> <span class="token number">8000</span><span class="token punctuation">,</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1033</span><span class="token punctuation">,</span> <span class="token string">&#39;Rose&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;经理&#39;</span><span class="token punctuation">,</span> <span class="token number">1013</span><span class="token punctuation">,</span> <span class="token string">&#39;2011-12-17&#39;</span><span class="token punctuation">,</span> <span class="token number">18000</span><span class="token punctuation">,</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1034</span><span class="token punctuation">,</span> <span class="token string">&#39;Robin&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;经理&#39;</span><span class="token punctuation">,</span> <span class="token number">1009</span><span class="token punctuation">,</span> <span class="token string">&#39;2011-12-17&#39;</span><span class="token punctuation">,</span> <span class="token number">18000</span><span class="token punctuation">,</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1038</span><span class="token punctuation">,</span> <span class="token string">&#39;Bob&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;司机&#39;</span><span class="token punctuation">,</span> <span class="token number">1009</span><span class="token punctuation">,</span> <span class="token string">&#39;2011-12-17&#39;</span><span class="token punctuation">,</span> <span class="token number">18000</span><span class="token punctuation">,</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">/*插入stu表数据*/</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> stu <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;zhangsan&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;23&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;男&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;北京&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;21500&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> stu <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">&#39;2&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;lisi&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;25&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;男&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;北京&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;21500&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> stu <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">&#39;3&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;wangwu&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;22&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;男&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;北京&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;23500&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> stu <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">&#39;4&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Herry&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;25&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;男&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;北京&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;21500&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> stu <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">&#39;5&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;史莱克&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;23&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;女&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;北京&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;21000&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> stu <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">&#39;6&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;汉克斯&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;22&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;女&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;山东&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;22500&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> stu <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">&#39;7&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;马克&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;21&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;女&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;北京&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;21600&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> stu <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">&#39;8&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;马克思&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;23&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;男&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;北京&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;23500&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> stu <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">&#39;9&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Hans&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;23&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;女&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;加利福尼亚&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;22500&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> stu <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">&#39;10&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;古惑仔&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;18&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;男&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;香港&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;21500&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> stu <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">&#39;11&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;琼瑶&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;23&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;男&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;台湾&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;21500&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> stu <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">&#39;12&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;杰克逊&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;24&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;男&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;科罗拉多&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;21500&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> stu <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">&#39;13&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;博尔特&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;24&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;男&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;华盛顿&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;22500&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> stu <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">&#39;14&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;巴斯德&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;22&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;男&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;弗吉尼亚&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;23500&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> stu <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">&#39;15&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;克里&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;25&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;男&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;北京&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;21500&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> stu <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">&#39;16&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;克林顿&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;23&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;女&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;北京&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;21000&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> stu <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">&#39;17&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;希拉里&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;22&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;女&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;山东&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;22500&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> stu <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">&#39;18&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;川普&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;21&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;女&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;北京&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;21600&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> stu <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">&#39;19&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;尤里&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;23&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;男&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;北京&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;23500&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> stu <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">&#39;20&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;加加林&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;23&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;女&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;莫斯科&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;22500&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> stu <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">&#39;21&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;特斯拉&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;18&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;男&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;纽约&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;23500&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> stu <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">&#39;22&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;拉姆斯菲尔德&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;23&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;丹佛&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;湖北&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;21500&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> stu <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">&#39;23&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;盖伊&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;23&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;男&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;佛罗里达&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;21500&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br></div></div><blockquote><p>关系结构数据库是以表格（Table）进行数据存储，表格由“行”和“列”组成。</p><p>经验：执行查询语句返回的结果集是一张虚拟表。</p></blockquote><h2 id="二、单表查询" tabindex="-1"><a class="header-anchor" href="#二、单表查询" aria-hidden="true">#</a> 二、单表查询</h2><h3 id="_2-1、基本查询" tabindex="-1"><a class="header-anchor" href="#_2-1、基本查询" aria-hidden="true">#</a> 2.1、基本查询</h3><blockquote><p>SELECT后跟列名</p><p>FROM后跟表名</p></blockquote><h4 id="_2-1-1、查询所有列" tabindex="-1"><a class="header-anchor" href="#_2-1-1、查询所有列" aria-hidden="true">#</a> 2.1.1、查询所有列</h4><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 查询所有列</span>\n<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> 表名\n<span class="token comment"># 查询所有部门的信息</span>\n<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> dept<span class="token punctuation">;</span>\n<span class="token comment"># 查询所有学生的信息</span>\n<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="_2-1-2、查询指定列" tabindex="-1"><a class="header-anchor" href="#_2-1-2、查询指定列" aria-hidden="true">#</a> 2.1.2、查询指定列</h4><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 查询指定列</span>\n<span class="token keyword">SELECT</span> 列<span class="token number">1</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> 列<span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>列N<span class="token punctuation">]</span> <span class="token keyword">FROM</span> 表名<span class="token punctuation">;</span>\n<span class="token comment"># 查询所有部门的名称</span>\n<span class="token keyword">SELECT</span> dname <span class="token keyword">FROM</span> dept<span class="token punctuation">;</span>\n<span class="token comment"># 查询所有的学生姓名和年龄</span>\n<span class="token keyword">SELECT</span> sname<span class="token punctuation">,</span> age <span class="token keyword">FROM</span> stu<span class="token punctuation">;</span>\n<span class="token comment"># 查询所有的学生姓名，年龄和省份</span>\n<span class="token keyword">SELECT</span> sname<span class="token punctuation">,</span> age<span class="token punctuation">,</span> province <span class="token keyword">FROM</span> stu<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="_2-1-3、完全重复的记录只出现一次" tabindex="-1"><a class="header-anchor" href="#_2-1-3、完全重复的记录只出现一次" aria-hidden="true">#</a> 2.1.3、完全重复的记录只出现一次</h4><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 查询所有的工种</span>\n<span class="token keyword">SELECT</span> job <span class="token keyword">FROM</span> emp<span class="token punctuation">;</span>\n\n<span class="token comment"># 上面查询出的结果有多条是重复的，我们需要将重复记录去除，重复的记录只出现一次</span>\n<span class="token comment"># 去重操作</span>\n<span class="token comment"># 当查询结果中的多行记录一模一样时，只显示一行</span>\n<span class="token comment"># 一般查询所有列时很少会有这种情况，但只查询一列（或几列）时，这种可能就大了</span>\n<span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> job <span class="token keyword">FROM</span> emp<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="_2-1-4、列运算" tabindex="-1"><a class="header-anchor" href="#_2-1-4、列运算" aria-hidden="true">#</a> 2.1.4、列运算</h4><p><strong>算数运算</strong></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 列可以进行加、减、乘、除运算</span>\n<span class="token comment"># 查询所有员工的姓名和工资提升50%之后的工资</span>\n<span class="token keyword">SELECT</span> ename<span class="token punctuation">,</span> sal<span class="token operator">*</span><span class="token number">1.5</span> <span class="token keyword">FROM</span> emp<span class="token punctuation">;</span>\n\n<span class="token comment"># 查询所有员工的姓名和总工资（工资加奖金）</span>\n<span class="token keyword">SELECT</span> ename<span class="token punctuation">,</span> sal<span class="token operator">+</span>comm <span class="token keyword">FROM</span> emp<span class="token punctuation">;</span> <span class="token comment"># 注意这个结果有问题，后面会进行处理</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>字符串连接运算</strong></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># MySQL使用CONCAT()进行连接运算, 不能用“+”连接字符串</span>\n<span class="token comment"># 查询所有员工的姓名和工资</span>\n<span class="token keyword">SELECT</span> ename<span class="token punctuation">,</span> CONCAT<span class="token punctuation">(</span>sal<span class="token punctuation">,</span> <span class="token string">&#39;$&#39;</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> emp<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>转换NULL值</strong></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 在进行列运算时，如果某一列值为NULL，那么运算之后的结果也为NULL</span>\n<span class="token comment"># 如果我们不希望最终结果为NULL，那么我们需要在运算之前对NULL值进行转换</span>\n<span class="token comment"># 查询所有员工的姓名和总工资（工资加奖金, 如果奖金为NULL则按照奖金为0进行运算）</span>\n<span class="token keyword">SELECT</span> ename<span class="token punctuation">,</span> sal<span class="token operator">+</span>IFNULL<span class="token punctuation">(</span>comm<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> emp<span class="token punctuation">;</span>\n<span class="token comment"># IFNULL(列名, 转换值)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>别名</strong></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 对列进行运算后，查询出的结果中的列名不便于阅读，这时需要给列名起一个别名</span>\n<span class="token comment"># 格式：列名 AS 别名</span>\n<span class="token comment"># AS也可以省略，格式：列名 别名</span>\n<span class="token comment"># 查询所有员工的姓名和总工资（工资加奖金, 如果奖金为NULL则按照奖金为0进行运算）</span>\n<span class="token keyword">SELECT</span> ename <span class="token keyword">AS</span> <span class="token string">&#39;姓名&#39;</span><span class="token punctuation">,</span> sal<span class="token operator">+</span>IFNULL<span class="token punctuation">(</span>comm<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&#39;总工资&#39;</span> <span class="token keyword">FROM</span> emp<span class="token punctuation">;</span>\n<span class="token keyword">SELECT</span> ename <span class="token string">&#39;姓名&#39;</span><span class="token punctuation">,</span> sal<span class="token operator">+</span>IFNULL<span class="token punctuation">(</span>comm<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token string">&#39;总工资&#39;</span> <span class="token keyword">FROM</span> emp<span class="token punctuation">;</span>\n<span class="token comment"># 除了可以给列起别名，也可以给表起别名，在多表查询中会使用到为表起别名</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="_2-1-5、条件查询" tabindex="-1"><a class="header-anchor" href="#_2-1-5、条件查询" aria-hidden="true">#</a> 2.1.5、条件查询</h4><p>与前面介绍的UPDATE和DELETE语句一样，SELECT语句也可以使用WHERE子句来控制查询出的记录。</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 查询部门编号为20的所有员工的信息</span>\n<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> emp <span class="token keyword">WHERE</span> deptno<span class="token operator">=</span><span class="token number">20</span>\n\n<span class="token comment"># 查询工种为工程师的所有员工的信息</span>\n<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> emp <span class="token keyword">WHERE</span> job<span class="token operator">=</span><span class="token string">&#39;工程师&#39;</span>\n\n<span class="token comment"># 查询有奖金的所有员工的信息</span>\n<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> emp <span class="token keyword">WHERE</span> comm <span class="token operator">IS</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token operator">and</span> comm <span class="token operator">&lt;&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span>\n<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> emp <span class="token keyword">WHERE</span> comm <span class="token operator">IS</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token operator">and</span> comm <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="_2-1-6、模糊查询" tabindex="-1"><a class="header-anchor" href="#_2-1-6、模糊查询" aria-hidden="true">#</a> 2.1.6、模糊查询</h4><blockquote><p>模糊 -- 不精确</p><p>&quot;_&quot;匹配一个任意字符，只匹配一个字符而不是多个</p><p>&quot;%&quot;匹配0~N个任意字符</p><p>模糊查询需要使用运算符：LIKE</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 查询姓“周”的所有员工的信息</span>\n<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> emp <span class="token keyword">WHERE</span> ename <span class="token operator">LIKE</span> <span class="token string">&#39;周%&#39;</span><span class="token punctuation">;</span>\n\n<span class="token comment"># 查询姓名中包含“杰”的所有员工的信息</span>\n<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> emp <span class="token keyword">WHERE</span> ename <span class="token operator">LIKE</span> <span class="token string">&#39;%杰%&#39;</span><span class="token punctuation">;</span>\n\n<span class="token comment"># 查询姓“周”并且姓名只有三个字的所有员工的信息</span>\n<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> emp <span class="token keyword">WHERE</span> ename <span class="token operator">LIKE</span> <span class="token string">&#39;周__&#39;</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="_2-2、排序" tabindex="-1"><a class="header-anchor" href="#_2-2、排序" aria-hidden="true">#</a> 2.2、排序</h3><blockquote><p>有些时候我们需要对查询出的结果进行排序</p><p>排序分成升序（ASC）和降序（DESC），可以使用多列作为排序条件</p><p>排序使用关键字ORDER BY</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 排序</span>\n<span class="token comment"># 规则：列名 升序/降序</span>\n<span class="token keyword">SELECT</span> 列<span class="token number">1</span><span class="token punctuation">,</span> 列<span class="token number">2</span><span class="token punctuation">,</span> 列<span class="token number">3</span> <span class="token keyword">FROM</span> 表名 <span class="token keyword">WHERE</span> 条件 <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> 规则<span class="token number">1</span><span class="token punctuation">,</span> 规则<span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span>规则n　\n\n<span class="token comment"># 查询所有员工信息，按照工号升序排列</span>\n<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> emp <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> empno <span class="token keyword">ASC</span><span class="token punctuation">;</span>\n<span class="token comment"># 如果是升序，ASC可以省略</span>\n<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> emp <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> empno<span class="token punctuation">;</span>\n\n<span class="token comment"># 如果设置了多个排序规则，如果规则1顺序相同则按照顺序2排序, 如果规则2顺序相同则按照顺序3排序...</span>\n<span class="token comment"># 查询所有员工信息，按照工资升序排列，如果工资相同，按照工号降序排列</span>\n<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> emp <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> sal <span class="token keyword">ASC</span><span class="token punctuation">,</span> empno <span class="token keyword">DESC</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="_2-3、聚合函数" tabindex="-1"><a class="header-anchor" href="#_2-3、聚合函数" aria-hidden="true">#</a> 2.3、聚合函数</h3><blockquote><p>聚合函数做某列的纵向运算, 为NULL项不参与运算.</p><table><thead><tr><th>函数</th><th>功能</th></tr></thead><tbody><tr><td>COUNT</td><td>计算个数</td></tr><tr><td>MAX</td><td>最大值</td></tr><tr><td>MIN</td><td>最小值</td></tr><tr><td>AVG</td><td>平均值</td></tr><tr><td>SUM</td><td>和</td></tr></tbody></table></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 查询公司员工个数</span>\n<span class="token keyword">SELECT</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> emp<span class="token punctuation">;</span>\n<span class="token keyword">SELECT</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> emp<span class="token punctuation">;</span>\n\n<span class="token comment"># 查询公司最高工资</span>\n<span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">FROM</span> emp<span class="token punctuation">;</span>\n\n<span class="token comment"># 查询公司最低工资</span>\n<span class="token keyword">SELECT</span> <span class="token function">MIN</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">FROM</span> emp<span class="token punctuation">;</span>\n\n<span class="token comment"># 查询公司所有员工工资和</span>\n<span class="token keyword">SELECT</span> <span class="token function">SUM</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">FROM</span> emp<span class="token punctuation">;</span>\n\n<span class="token comment"># 查询公司员工工资的平均值</span>\n<span class="token keyword">SELECT</span> <span class="token function">AVG</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">FROM</span> emp<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="_2-4、分组查询" tabindex="-1"><a class="header-anchor" href="#_2-4、分组查询" aria-hidden="true">#</a> 2.4、分组查询</h3><blockquote><p>分组查询是把记录使用某一列进行分组，然后查询组信息。</p><p>分组查询查的是组信息，不能带“个人”信息。</p><p>组信息包括：</p><ul><li>分组列</li><li>聚合函数</li></ul><p>分组查询使用GROUP BY关键字。</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 查询每个工种的平均工资</span>\n<span class="token keyword">SELECT</span> job<span class="token punctuation">,</span> <span class="token function">AVG</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">FROM</span> emp <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> job<span class="token punctuation">;</span>\n\n<span class="token comment"># 查询每个工种的员工数量</span>\n<span class="token keyword">SELECT</span> job<span class="token punctuation">,</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> emp <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> job<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>分组查询也可以设置条件，分组后的条件使用HAVING, 分组前的条件使用WHERE</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 查询工资大于15000的员工的工种，以及工种的平均工资</span>\n<span class="token keyword">SELECT</span> job<span class="token punctuation">,</span> <span class="token function">AVG</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">FROM</span> emp <span class="token keyword">WHERE</span> sal<span class="token operator">&gt;</span><span class="token number">15000</span> <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> job<span class="token punctuation">;</span>\n\n<span class="token comment"># 查询工资大于15000的员工的工种，以及工种的平均工资，只显示超过两人的工种</span>\n<span class="token keyword">SELECT</span> job<span class="token punctuation">,</span> <span class="token function">AVG</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">FROM</span> emp <span class="token keyword">WHERE</span> sal<span class="token operator">&gt;</span><span class="token number">15000</span> <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> job <span class="token keyword">HAVING</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&gt;=</span><span class="token number">2</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_2-5、limit子句" tabindex="-1"><a class="header-anchor" href="#_2-5、limit子句" aria-hidden="true">#</a> 2.5、LIMIT子句</h3><blockquote><p>多用在分页查询中</p><p>LIMIT用来限定查询结果的起始行，以及查询行数</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 语法</span>\n<span class="token keyword">SELECT</span> 列名 <span class="token keyword">FROM</span> 表名 <span class="token keyword">LIMIT</span> 起始行，查询行数<span class="token punctuation">;</span>\n\n<span class="token comment"># 查询员工表中前五名员工的所有信息</span>\n<span class="token comment"># 起始行是从 0 开始，代表了第一行</span>\n<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> emp <span class="token keyword">LIMIT</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">;</span>\n\n<span class="token comment">#查询员工表中从第4条开始，查询10行</span>\n<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> emp <span class="token keyword">LIMIT</span> <span class="token number">3</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><p>LIMIT多数时候用在分页查询中</p><p>起始行计算公式：（当前页-1）* 每页的记录数</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 查询员工表中第一页信息，显示五条</span>\n<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> emp <span class="token keyword">LIMIT</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">;</span>\n\n<span class="token comment"># 查询员工表中第二页信息，显示五条</span>\n<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> emp <span class="token keyword">LIMIT</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_2-6、查询语句执行顺序" tabindex="-1"><a class="header-anchor" href="#_2-6、查询语句执行顺序" aria-hidden="true">#</a> 2.6、查询语句执行顺序</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span>\n<span class="token keyword">FROM</span>\n<span class="token keyword">WHERE</span>\n<span class="token keyword">GROUP</span> <span class="token keyword">BY</span>\n<span class="token keyword">HAVING</span>\n<span class="token keyword">ORDER</span> <span class="token keyword">BY</span>\n<span class="token keyword">LIMIT</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="三、多表查询" tabindex="-1"><a class="header-anchor" href="#三、多表查询" aria-hidden="true">#</a> 三、多表查询</h2><blockquote><p>使用多表关联查询的原因--查询的数据分布在多个表中</p></blockquote><h3 id="_3-1、合并结果集" tabindex="-1"><a class="header-anchor" href="#_3-1、合并结果集" aria-hidden="true">#</a> 3.1、合并结果集</h3><blockquote><p>合并结果集就是把两个select语句的查询结果合并到一起，结果集就是一个表格。</p><p>要求：被合并的两个结果：列数必须相同。</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># UNION：去除重复记录</span>\n<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> t1 <span class="token keyword">UNION</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> t2<span class="token punctuation">;</span>\n<span class="token comment"># UNION ALL：不去除重复记录</span>\n<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> t1 <span class="token keyword">UNION</span> <span class="token keyword">ALL</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> t2<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_3-2、内连接" tabindex="-1"><a class="header-anchor" href="#_3-2、内连接" aria-hidden="true">#</a> 3.2、内连接</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 方式1(MySQL特有，不符合SQL标准)</span>\n<span class="token keyword">SELECT</span> 列名 <span class="token keyword">FROM</span> 表<span class="token number">1</span><span class="token punctuation">,</span> 表<span class="token number">2</span> <span class="token keyword">WHERE</span> 表<span class="token number">1.</span>列名 条件运算符 表<span class="token number">2.</span>列名 <span class="token punctuation">[</span><span class="token operator">AND</span> 条件<span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token comment"># 方式2(符合SQL标准)</span>\n<span class="token keyword">SELECT</span> 列名 <span class="token keyword">FROM</span> 表<span class="token number">1</span> <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> 表<span class="token number">2</span> <span class="token keyword">ON</span> 表<span class="token number">1.</span>列名 条件运算符 表<span class="token number">2.</span>列名 <span class="token punctuation">[</span><span class="token keyword">WHERE</span> 条件<span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n<span class="token comment"># 列出员工的姓名和部门名称</span>\n<span class="token keyword">SELECT</span> e<span class="token punctuation">.</span>ename<span class="token punctuation">,</span> d<span class="token punctuation">.</span>dname <span class="token keyword">FROM</span> emp e<span class="token punctuation">,</span> dept d <span class="token keyword">WHERE</span> e<span class="token punctuation">.</span>deptno<span class="token operator">=</span>d<span class="token punctuation">.</span>deptno<span class="token punctuation">;</span>\n<span class="token keyword">SELECT</span> e<span class="token punctuation">.</span>ename<span class="token punctuation">,</span> d<span class="token punctuation">.</span>dname <span class="token keyword">FROM</span> emp e <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> dept d <span class="token keyword">ON</span> e<span class="token punctuation">.</span>deptno<span class="token operator">=</span>d<span class="token punctuation">.</span>deptno<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p>上面的查询只能查询出拥有部门的员工和拥有员工的部门，没有部门的员工和没有员工的部门是查询不到的。如果要将所有的员工和部门都查询出来需要使用外连接。</p></blockquote><h3 id="_3-3、外连接" tabindex="-1"><a class="header-anchor" href="#_3-3、外连接" aria-hidden="true">#</a> 3.3、外连接</h3><blockquote><p>结果集中包含主表所有数据行，如果主表的某行在从表中没有匹配行时，则从表的选择列为NULL值。</p></blockquote><h4 id="_3-3-1、左外连接" tabindex="-1"><a class="header-anchor" href="#_3-3-1、左外连接" aria-hidden="true">#</a> 3.3.1、左外连接</h4><blockquote><p>左外连接是以左表为主表，去关联右表(从表)，<strong>结果集中包含主表所有数据行</strong>，如果主表的某行在从表中没有匹配行时，则从表的选择列为NULL值。</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 语法</span>\n<span class="token keyword">SELECT</span> 列名 <span class="token keyword">FROM</span> 左表 <span class="token keyword">LEFT</span> <span class="token punctuation">[</span><span class="token keyword">OUTER</span><span class="token punctuation">]</span> <span class="token keyword">JOIN</span> 右表 <span class="token keyword">ON</span> 左表<span class="token punctuation">.</span>列名  条件运算符 右表<span class="token punctuation">.</span>列名 <span class="token punctuation">[</span><span class="token keyword">WHERE</span> 条件<span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n<span class="token comment"># 列出员工的姓名和部门名称, 包括没有部门的员工</span>\n<span class="token keyword">SELECT</span> e<span class="token punctuation">.</span>ename<span class="token punctuation">,</span> d<span class="token punctuation">.</span>dname <span class="token keyword">FROM</span> emp e <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> dept d <span class="token keyword">ON</span> e<span class="token punctuation">.</span>deptno<span class="token operator">=</span>d<span class="token punctuation">.</span>deptno<span class="token punctuation">;</span>\n\n<span class="token comment"># 列出员工的姓名和部门名称, 包括没有员工的部门</span>\n<span class="token keyword">SELECT</span> e<span class="token punctuation">.</span>ename<span class="token punctuation">,</span> d<span class="token punctuation">.</span>dname <span class="token keyword">FROM</span> dept d <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> emp e <span class="token keyword">ON</span> e<span class="token punctuation">.</span>deptno<span class="token operator">=</span>d<span class="token punctuation">.</span>deptno<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="_3-3-2、右外连接" tabindex="-1"><a class="header-anchor" href="#_3-3-2、右外连接" aria-hidden="true">#</a> 3.3.2、右外连接</h4><blockquote><p>右外连接是以右表为主表，去关联左表(从表)，<strong>结果集中包含主表所有数据行</strong>，如果主表的某行在从表中没有匹配行时，则从表的选择列为NULL值。</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 语法</span>\n<span class="token keyword">SELECT</span> 列名 <span class="token keyword">FROM</span> 左表 <span class="token keyword">RIGHT</span> <span class="token punctuation">[</span><span class="token keyword">OUTER</span><span class="token punctuation">]</span> <span class="token keyword">JOIN</span> 右表 <span class="token keyword">ON</span> 左表<span class="token punctuation">.</span>列名 条件运算符 右表<span class="token punctuation">.</span>列名 <span class="token punctuation">[</span><span class="token keyword">WHERE</span> 条件<span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n<span class="token comment"># 列出员工的姓名和部门名称, 包括没有员工的部门</span>\n<span class="token keyword">SELECT</span> e<span class="token punctuation">.</span>ename<span class="token punctuation">,</span> d<span class="token punctuation">.</span>dname <span class="token keyword">FROM</span> emp e <span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> dept d <span class="token keyword">ON</span> e<span class="token punctuation">.</span>deptno<span class="token operator">=</span>d<span class="token punctuation">.</span>deptno<span class="token punctuation">;</span>\n\n<span class="token comment"># 列出员工的姓名和部门名称, 包括没有部门的员工</span>\n<span class="token keyword">SELECT</span> e<span class="token punctuation">.</span>ename<span class="token punctuation">,</span> d<span class="token punctuation">.</span>dname <span class="token keyword">FROM</span> dept d <span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> emp e <span class="token keyword">ON</span> e<span class="token punctuation">.</span>deptno<span class="token operator">=</span>d<span class="token punctuation">.</span>deptno<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="_3-3-3、全外连接" tabindex="-1"><a class="header-anchor" href="#_3-3-3、全外连接" aria-hidden="true">#</a> 3.3.3、全外连接</h4><blockquote><p>完全连接左表和右表中所有行，当某行数据在另一个表中没有匹配时，则另一个表的选择列值为NULL。</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 语法</span>\n<span class="token keyword">SELECT</span> 列名 <span class="token keyword">FROM</span> 左表 <span class="token keyword">FULL</span> <span class="token punctuation">[</span><span class="token keyword">OUTER</span><span class="token punctuation">]</span> <span class="token keyword">JOIN</span> 右表 <span class="token keyword">ON</span> 左表<span class="token punctuation">.</span>列名 条件运算符 右表<span class="token punctuation">.</span>列名 <span class="token punctuation">[</span><span class="token keyword">WHERE</span> 条件<span class="token punctuation">]</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>MySQL不支持这种语法，可以使用合并结果集进行模拟全外连接。</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> e<span class="token punctuation">.</span>ename<span class="token punctuation">,</span> d<span class="token punctuation">.</span>dname <span class="token keyword">FROM</span> emp e <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> dept d <span class="token keyword">ON</span> e<span class="token punctuation">.</span>deptno<span class="token operator">=</span>d<span class="token punctuation">.</span>deptno\n<span class="token keyword">UNION</span>\n<span class="token keyword">SELECT</span> e<span class="token punctuation">.</span>ename<span class="token punctuation">,</span> d<span class="token punctuation">.</span>dname <span class="token keyword">FROM</span> emp e <span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> dept d <span class="token keyword">ON</span> e<span class="token punctuation">.</span>deptno<span class="token operator">=</span>d<span class="token punctuation">.</span>deptno<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="四、子查询" tabindex="-1"><a class="header-anchor" href="#四、子查询" aria-hidden="true">#</a> 四、子查询</h2><blockquote><p>子查询就是嵌套查询，即SELECT中包含SELECT，如果一条语句中存在两个或两个以上SELECT，那么就是子查询语句了。</p><p>子查询出现的位置：</p><ul><li>WHERE后，作为条件的一部分；</li><li>FROM后，作为被查询的一条表。</li></ul></blockquote><h3 id="_4-1、where后" tabindex="-1"><a class="header-anchor" href="#_4-1、where后" aria-hidden="true">#</a> 4.1、WHERE后</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 查询工资最高的员工的信息</span>\n<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> emp <span class="token keyword">WHERE</span> emp<span class="token punctuation">.</span>sal<span class="token operator">=</span><span class="token punctuation">(</span>最高薪资<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment"># 查询员工的最高薪资</span>\n<span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">FROM</span> emp<span class="token punctuation">;</span>\n<span class="token comment"># 综合</span>\n<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> emp <span class="token keyword">WHERE</span> emp<span class="token punctuation">.</span>sal<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">FROM</span> emp<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n\n<span class="token comment"># 查询和文员在同一部门的所有员工的信息</span>\n<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> emp <span class="token keyword">WHERE</span> emp<span class="token punctuation">.</span>deptno<span class="token operator">=</span><span class="token punctuation">(</span>文员的部门编号<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment"># 文员的部门编号</span>\n<span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> deptno <span class="token keyword">FROM</span> emp <span class="token keyword">WHERE</span> emp<span class="token punctuation">.</span>job<span class="token operator">=</span><span class="token string">&#39;文员&#39;</span><span class="token punctuation">;</span>\n<span class="token comment"># 综合</span>\n<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> emp <span class="token keyword">WHERE</span> emp<span class="token punctuation">.</span>deptno <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> deptno <span class="token keyword">FROM</span> emp <span class="token keyword">WHERE</span> emp<span class="token punctuation">.</span>job<span class="token operator">=</span><span class="token string">&#39;文员&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n\n<span class="token comment"># 查询高于30部门所有人工资的员工详细信息</span>\n<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> emp <span class="token keyword">WHERE</span> sal<span class="token operator">&gt;</span><span class="token keyword">ALL</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> sal <span class="token keyword">FROM</span> emp <span class="token keyword">WHERE</span> deptno<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment"># 查询高于30部门任意一人工资的员工详细信息</span>\n<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> emp <span class="token keyword">WHERE</span> sal<span class="token operator">&gt;</span><span class="token keyword">ANY</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> sal <span class="token keyword">FROM</span> emp <span class="token keyword">WHERE</span> deptno<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment"># 查询工资、部门与周杰伦完全相同的员工信息</span>\n<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> emp <span class="token keyword">WHERE</span> <span class="token punctuation">(</span>sal<span class="token punctuation">,</span> deptno<span class="token punctuation">)</span> <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> sal<span class="token punctuation">,</span> deptno <span class="token keyword">FROM</span> emp <span class="token keyword">WHERE</span> ename<span class="token operator">=</span><span class="token string">&#39;周杰伦&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="_4-2、from后" tabindex="-1"><a class="header-anchor" href="#_4-2、from后" aria-hidden="true">#</a> 4.2、FROM后</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 列出在每个部门名称、员工数量、平均工资</span>\n<span class="token keyword">SELECT</span>\n\td<span class="token punctuation">.</span>dname<span class="token punctuation">,</span> e<span class="token punctuation">.</span>cnt<span class="token punctuation">,</span> e<span class="token punctuation">.</span>avgsal\n<span class="token keyword">FROM</span>\n\t<span class="token punctuation">(</span><span class="token keyword">SELECT</span> deptno<span class="token punctuation">,</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> cnt<span class="token punctuation">,</span> <span class="token function">AVG</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> avgsal <span class="token keyword">FROM</span> emp <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> deptno<span class="token punctuation">)</span> e<span class="token punctuation">,</span> dept d\n<span class="token keyword">WHERE</span> e<span class="token punctuation">.</span>deptno<span class="token operator">=</span>d<span class="token punctuation">.</span>deptno<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div>',73),t={},e=(0,a(83744).Z)(t,[["render",function(n,s){return p}]])}}]);