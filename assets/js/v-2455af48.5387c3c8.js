"use strict";(self.webpackChunkhuanglian=self.webpackChunkhuanglian||[]).push([[2748],{21429:(s,n,a)=>{a.r(n),a.d(n,{data:()=>e});const e={key:"v-2455af48",path:"/sql/mysql/08_DCL.html",title:"",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"一、是什么",slug:"一、是什么",children:[]},{level:2,title:"二、常用操作",slug:"二、常用操作",children:[{level:3,title:"2.1、创建用户",slug:"_2-1、创建用户",children:[]},{level:3,title:"2.2、用户授权",slug:"_2-2、用户授权",children:[]},{level:3,title:"2.3、查看用户权限",slug:"_2-3、查看用户权限",children:[]},{level:3,title:"2.4、撤销权限",slug:"_2-4、撤销权限",children:[]},{level:3,title:"2.5、删除用户",slug:"_2-5、删除用户",children:[]},{level:3,title:"2.6、修改用户密码",slug:"_2-6、修改用户密码",children:[]}]}],filePathRelative:"sql/mysql/08_DCL.md",git:{updatedTime:1661237516e3,contributors:[{name:"黄健",email:"huang.jian@trs.com.cn",commits:1}]}}},90575:(s,n,a)=>{a.r(n),a.d(n,{default:()=>l});const e=(0,a(66252).uE)('<h2 id="一、是什么" tabindex="-1"><a class="header-anchor" href="#一、是什么" aria-hidden="true">#</a> 一、是什么</h2><blockquote><p><strong>数据控制语言</strong> (Data Control Language) 在SQL语言中，是一种可对数据访问权进行控制的指令，它可以控制特定用户账户对数据表、查看表、存储程序、用户自定义函数等数据库对象的控制权。</p></blockquote><h2 id="二、常用操作" tabindex="-1"><a class="header-anchor" href="#二、常用操作" aria-hidden="true">#</a> 二、常用操作</h2><h3 id="_2-1、创建用户" tabindex="-1"><a class="header-anchor" href="#_2-1、创建用户" aria-hidden="true">#</a> 2.1、创建用户</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 语法</span>\n<span class="token keyword">CREATE</span> <span class="token keyword">USER</span> 用户名@地址 IDENTIFIED <span class="token keyword">BY</span> <span class="token string">&#39;密码&#39;</span><span class="token punctuation">;</span>\n\n<span class="token comment"># 创建用户user1，密码设置为1234</span>\n<span class="token keyword">CREATE</span> <span class="token keyword">USER</span> user1<span class="token variable">@localhost</span> IDENTIFIED <span class="token keyword">BY</span> <span class="token string">&#39;1234&#39;</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_2-2、用户授权" tabindex="-1"><a class="header-anchor" href="#_2-2、用户授权" aria-hidden="true">#</a> 2.2、用户授权</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 语法</span>\n<span class="token keyword">GRANT</span> 权限<span class="token number">1</span><span class="token punctuation">,</span> …<span class="token punctuation">,</span> 权限n <span class="token keyword">ON</span> 数据库<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">TO</span> 用户名<span class="token punctuation">;</span>\n\n<span class="token comment"># 将mydb1下的所有表的特定权限都赋给user1</span>\n<span class="token keyword">GRANT</span> <span class="token keyword">CREATE</span><span class="token punctuation">,</span> <span class="token keyword">ALTER</span><span class="token punctuation">,</span> <span class="token keyword">DROP</span><span class="token punctuation">,</span> <span class="token keyword">INSERT</span><span class="token punctuation">,</span> <span class="token keyword">UPDATE</span><span class="token punctuation">,</span> <span class="token keyword">DELETE</span><span class="token punctuation">,</span> <span class="token keyword">SELECT</span> <span class="token keyword">ON</span> mydb1<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">TO</span> user1<span class="token variable">@localhost</span><span class="token punctuation">;</span>\n<span class="token comment"># 将mydb1下的所有表的所有权限都赋给user1</span>\n<span class="token keyword">GRANT</span> <span class="token keyword">ALL</span> <span class="token keyword">ON</span> mydb1<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">TO</span> user1<span class="token variable">@localhost</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="_2-3、查看用户权限" tabindex="-1"><a class="header-anchor" href="#_2-3、查看用户权限" aria-hidden="true">#</a> 2.3、查看用户权限</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 语法</span>\n<span class="token keyword">SHOW</span> GRANTS <span class="token keyword">FOR</span> 用户名@主机名<span class="token punctuation">;</span>\n\n<span class="token comment"># 查看user1的权限</span>\n<span class="token keyword">SHOW</span> GRANTS <span class="token keyword">FOR</span> user1<span class="token variable">@localhost</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_2-4、撤销权限" tabindex="-1"><a class="header-anchor" href="#_2-4、撤销权限" aria-hidden="true">#</a> 2.4、撤销权限</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 语法</span>\n<span class="token keyword">REVOKE</span> 权限<span class="token number">1</span><span class="token punctuation">,</span> … <span class="token punctuation">,</span> 权限n <span class="token keyword">ON</span> 数据库<span class="token punctuation">.</span><span class="token operator">*</span> FORM 用户名\n\n<span class="token comment"># 撤销user1的在数据库mydb1上的部分权限</span>\n<span class="token keyword">REVOKE</span> <span class="token keyword">create</span><span class="token punctuation">,</span><span class="token keyword">alter</span><span class="token punctuation">,</span><span class="token keyword">drop</span> <span class="token keyword">ON</span> mydb1<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">from</span> user1<span class="token variable">@localhost</span><span class="token punctuation">;</span>\n<span class="token comment"># 撤销user1的在数据库mydb1上的所有权限</span>\n<span class="token keyword">REVOKE</span> <span class="token keyword">ALL</span> <span class="token keyword">ON</span> mydb1<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">from</span> user1<span class="token variable">@localhost</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="_2-5、删除用户" tabindex="-1"><a class="header-anchor" href="#_2-5、删除用户" aria-hidden="true">#</a> 2.5、删除用户</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 语法</span>\n<span class="token keyword">DROP</span> <span class="token keyword">USER</span> 用户名<span class="token punctuation">;</span>\n\n<span class="token comment"># 删除用户user1</span>\n<span class="token keyword">DROP</span> <span class="token keyword">USER</span> user1<span class="token variable">@localhost</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_2-6、修改用户密码" tabindex="-1"><a class="header-anchor" href="#_2-6、修改用户密码" aria-hidden="true">#</a> 2.6、修改用户密码</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 语法</span>\n<span class="token keyword">USE</span> mysql<span class="token punctuation">;</span>\n<span class="token keyword">UPDATE</span> <span class="token keyword">USER</span> <span class="token keyword">SET</span> authentication_string<span class="token operator">=</span>PASSWORD<span class="token punctuation">(</span><span class="token string">&#39;密码&#39;</span><span class="token punctuation">)</span> <span class="token keyword">WHERE</span> <span class="token keyword">USER</span><span class="token operator">=</span><span class="token string">&#39;用户名&#39;</span> <span class="token operator">and</span> host<span class="token operator">=</span><span class="token string">&#39;IP&#39;</span><span class="token punctuation">;</span>\nFLUSH <span class="token keyword">PRIVILEGES</span><span class="token punctuation">;</span>\n\n<span class="token comment"># 修改user1的密码为user1</span>\n<span class="token keyword">USE</span> mysql<span class="token punctuation">;</span>\n<span class="token keyword">UPDATE</span> <span class="token keyword">USER</span> <span class="token keyword">SET</span> authentication_string<span class="token operator">=</span>PASSWORD<span class="token punctuation">(</span><span class="token string">&#39;user1&#39;</span><span class="token punctuation">)</span> <span class="token keyword">WHERE</span> <span class="token keyword">USER</span><span class="token operator">=</span><span class="token string">&#39;user1&#39;</span> <span class="token operator">and</span> host<span class="token operator">=</span><span class="token string">&#39;localhost&#39;</span><span class="token punctuation">;</span>\nFLUSH <span class="token keyword">PRIVILEGES</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div>',15),p={},l=(0,a(83744).Z)(p,[["render",function(s,n){return e}]])}}]);