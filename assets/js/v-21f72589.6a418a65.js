"use strict";(self.webpackChunkhuanglian=self.webpackChunkhuanglian||[]).push([[5197],{21888:(n,s,a)=>{a.r(s),a.d(s,{data:()=>p});const p={key:"v-21f72589",path:"/sql/mysql/05_DML.html",title:"",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"一、什么是DML",slug:"一、什么是dml",children:[{level:3,title:"1.1、准备工作",slug:"_1-1、准备工作",children:[]}]},{level:2,title:"二、DML的使用",slug:"二、dml的使用",children:[{level:3,title:"2.1、插入数据",slug:"_2-1、插入数据",children:[]},{level:3,title:"2.2、修改数据",slug:"_2-2、修改数据",children:[]},{level:3,title:"2.3、删除数据",slug:"_2-3、删除数据",children:[]}]}],filePathRelative:"sql/mysql/05_DML.md",git:{updatedTime:1661237516e3,contributors:[{name:"黄健",email:"huang.jian@trs.com.cn",commits:1}]}}},84276:(n,s,a)=>{a.r(s),a.d(s,{default:()=>e});const p=(0,a(66252).uE)('<h2 id="一、什么是dml" tabindex="-1"><a class="header-anchor" href="#一、什么是dml" aria-hidden="true">#</a> 一、什么是DML</h2><blockquote><p>DML(Data Manipulation Language)数据操作语言：增、删、改表记录。</p><p><strong>注意：DML是对表的内容进行操作，DDL是对表的结构进行操作，两者有本质区别。</strong></p></blockquote><h3 id="_1-1、准备工作" tabindex="-1"><a class="header-anchor" href="#_1-1、准备工作" aria-hidden="true">#</a> 1.1、准备工作</h3><blockquote><p>建库建表</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 创建数据库</span>\n<span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> mydb<span class="token punctuation">;</span>\n<span class="token comment"># 切换数据库</span>\n<span class="token keyword">USE</span> mydb<span class="token punctuation">;</span>\n\n<span class="token comment"># 删除表</span>\n<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> stu<span class="token punctuation">;</span>\n<span class="token comment"># 创建学生表</span>\n<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> stu  <span class="token punctuation">(</span>\n  id <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n  name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n  age <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n  gender <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n  addr <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><blockquote><p>由于DML对表的内容进行操作，我们为了验证操作是否生效，需要查询一下表的内容，SQL语句如下：</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 查找表的所有记录</span>\n<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> 表名<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="二、dml的使用" tabindex="-1"><a class="header-anchor" href="#二、dml的使用" aria-hidden="true">#</a> 二、DML的使用</h2><h3 id="_2-1、插入数据" tabindex="-1"><a class="header-anchor" href="#_2-1、插入数据" aria-hidden="true">#</a> 2.1、插入数据</h3><blockquote><p>用来在表中增加数据，增加的数据可能是一行，也可能是多行，但是不可能是半行。</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 在表名后给出要插入的列名，其他没有指定的列等同与插入null值。所以插入记录总是插入一行，不可能是半行。</span>\n<span class="token comment"># 在VALUES后给出列值，值的顺序和个数必须与前面指定的列对应</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> 表名<span class="token punctuation">(</span>列名<span class="token number">1</span><span class="token punctuation">,</span> 列名<span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span>列值<span class="token number">1</span><span class="token punctuation">,</span> 列值<span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> stu<span class="token punctuation">(</span>id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> addr<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&#39;zs&#39;</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">&#39;男&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;青岛市北区&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> stu<span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> addr<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;ls&#39;</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">&#39;男&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;青岛市南区&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> stu<span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&quot;ww&quot;</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment"># 没有给出要插入的列，那么表示插入所有列</span>\n<span class="token comment"># 值的个数必须是该表列的个数</span>\n<span class="token comment"># 值的顺序，必须与表创建时给出的列的顺序相同。</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> 表名 <span class="token keyword">VALUES</span><span class="token punctuation">(</span>列值<span class="token number">1</span><span class="token punctuation">,</span> 列值<span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> stu <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&#39;zs&#39;</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">&#39;男&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;青岛市北区&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> stu <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&#39;ls&#39;</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">&#39;男&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;青岛市南区&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment"># 一次插入多条数据</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> 表名<span class="token punctuation">(</span>列名<span class="token number">1</span><span class="token punctuation">,</span> 列名<span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span>列值<span class="token number">1</span><span class="token punctuation">,</span> 列值<span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>列值<span class="token number">1</span><span class="token punctuation">,</span> 列值<span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>列值<span class="token number">1</span><span class="token punctuation">,</span> 列值<span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> stu<span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;zs&#39;</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&#39;ls&#39;</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&#39;ww&#39;</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="_2-2、修改数据" tabindex="-1"><a class="header-anchor" href="#_2-2、修改数据" aria-hidden="true">#</a> 2.2、修改数据</h3><blockquote><p>用来修改表中已有的数据。</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># WHERE条件是可选的, 如果没有条件, 就修改所有记录, 多数时候我们都加上WHERE条件</span>\n<span class="token keyword">UPDATE</span> 表名 <span class="token keyword">SET</span> 列名<span class="token number">1</span><span class="token operator">=</span>列值<span class="token number">1</span><span class="token punctuation">,</span> 列名<span class="token number">2</span><span class="token operator">=</span>列值<span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">[</span><span class="token keyword">WHERE</span> 条件<span class="token punctuation">]</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>关于条件：</p><ul><li>条件必须是一个boolean类型的值或表达式；</li><li>运算符:=、!=、&lt;&gt;、&gt;、&lt;、&gt;=、&lt;=、between...and... 、in(...)、is null、not、or、and；</li><li>和后面学习的删除数据及DQL中的条件通用。</li></ul></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">UPDATE</span> stu <span class="token keyword">SET</span> addr<span class="token operator">=</span><span class="token string">&#39;qd&#39;</span><span class="token punctuation">,</span> gender<span class="token operator">=</span><span class="token string">&#39;男&#39;</span> <span class="token keyword">WHERE</span> age <span class="token operator">&gt;=</span> <span class="token number">18</span> <span class="token operator">AND</span> age <span class="token operator">&lt;=</span> <span class="token number">80</span><span class="token punctuation">;</span>\n<span class="token keyword">UPDATE</span> stu <span class="token keyword">SET</span> addr<span class="token operator">=</span><span class="token string">&#39;qd&#39;</span><span class="token punctuation">,</span> gender<span class="token operator">=</span><span class="token string">&#39;男&#39;</span> <span class="token keyword">WHERE</span> age <span class="token operator">&lt;&gt;</span> <span class="token number">18</span><span class="token punctuation">;</span>\n<span class="token keyword">UPDATE</span> stu <span class="token keyword">SET</span> addr<span class="token operator">=</span><span class="token string">&#39;qd&#39;</span><span class="token punctuation">,</span> gender<span class="token operator">=</span><span class="token string">&#39;男&#39;</span> <span class="token keyword">WHERE</span> age <span class="token operator">BETWEEN</span> <span class="token number">18</span> <span class="token operator">AND</span> <span class="token number">80</span><span class="token punctuation">;</span>\n<span class="token keyword">UPDATE</span> stu <span class="token keyword">SET</span> addr<span class="token operator">=</span><span class="token string">&#39;qdsnq&#39;</span> <span class="token keyword">WHERE</span> name<span class="token operator">=</span><span class="token string">&#39;zs&#39;</span> <span class="token operator">OR</span> name<span class="token operator">=</span><span class="token string">&#39;ls&#39;</span><span class="token punctuation">;</span>\n<span class="token keyword">UPDATE</span> stu <span class="token keyword">SET</span> addr<span class="token operator">=</span><span class="token string">&#39;qdsnq&#39;</span> <span class="token keyword">WHERE</span> name <span class="token operator">IN</span><span class="token punctuation">(</span><span class="token string">&#39;zhangsan&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;lisi&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">UPDATE</span> stu <span class="token keyword">SET</span> addr<span class="token operator">=</span><span class="token string">&#39;qdsnq&#39;</span> <span class="token keyword">WHERE</span> age <span class="token operator">IS</span> <span class="token operator">NOT</span> <span class="token boolean">null</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_2-3、删除数据" tabindex="-1"><a class="header-anchor" href="#_2-3、删除数据" aria-hidden="true">#</a> 2.3、删除数据</h3><blockquote><p>用来删除表中已有的数据。</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># WHERE条件是可选的, 如果没有条件, 就删除所有记录, 多数时候我们都加上WHERE条件</span>\n<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> 表名 <span class="token punctuation">[</span><span class="token keyword">WHERE</span> 条件<span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n<span class="token comment"># 删除id为1的学生</span>\n<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> stu <span class="token keyword">WHERE</span> id<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>\n\n<span class="token comment">#与DELETE不加WHERE删除整表数据不同，TRUNCATE是把表销毁，再按照原表的格式创建一张新表</span>\n<span class="token keyword">TRUNCATE</span> <span class="token keyword">TABLE</span> 表名<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div>',19),t={},e=(0,a(83744).Z)(t,[["render",function(n,s){return p}]])}}]);