"use strict";(self.webpackChunkhuanglian=self.webpackChunkhuanglian||[]).push([[4719],{5865:(s,n,a)=>{a.r(n),a.d(n,{data:()=>e});const e={key:"v-6dce069e",path:"/sql/mysql/10_%E8%A7%86%E5%9B%BE.html",title:"",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"一、是什么",slug:"一、是什么",children:[{level:3,title:"1.1、概念",slug:"_1-1、概念",children:[]},{level:3,title:"1.2、特点",slug:"_1-2、特点",children:[]}]},{level:2,title:"二、视图的操作",slug:"二、视图的操作",children:[{level:3,title:"2.1、创建视图",slug:"_2-1、创建视图",children:[]},{level:3,title:"2.2、使用视图",slug:"_2-2、使用视图",children:[]},{level:3,title:"2.3、修改视图",slug:"_2-3、修改视图",children:[]},{level:3,title:"2.4、删除视图",slug:"_2-4、删除视图",children:[]},{level:3,title:"2.5、注意事项",slug:"_2-5、注意事项",children:[]}]}],filePathRelative:"sql/mysql/10_视图.md",git:{updatedTime:1661237516e3,contributors:[{name:"黄健",email:"huang.jian@trs.com.cn",commits:1}]}}},36927:(s,n,a)=>{a.r(n),a.d(n,{default:()=>p});const e=(0,a(66252).uE)('<h2 id="一、是什么" tabindex="-1"><a class="header-anchor" href="#一、是什么" aria-hidden="true">#</a> 一、是什么</h2><h3 id="_1-1、概念" tabindex="-1"><a class="header-anchor" href="#_1-1、概念" aria-hidden="true">#</a> 1.1、概念</h3><blockquote><p>视图，虚拟表，从一个表或多个表中查询出来的表，作用和真实表一样，包含一系列带有行和列的数据。视图中，用户可以使用SELECT语句查询数据，也可以使用INSERT，UPDATE，DELETE修改记录，视图可以使用户操作方便，并保障数据库系统安全。</p></blockquote><h3 id="_1-2、特点" tabindex="-1"><a class="header-anchor" href="#_1-2、特点" aria-hidden="true">#</a> 1.2、特点</h3><blockquote><ul><li><p>优点</p></li><li><p>简单化，数据所见即所得。</p></li><li><p>安全性，用户只能查询或修改他们所能见到得到的数据。</p></li><li><p>逻辑独立性，可以屏蔽真实表结构变化带来的影响。</p></li><li><p>缺点</p></li><li><p>性能相对较差，简单的查询也会变得稍显复杂。</p></li><li><p>修改不方便，特变是复杂的聚合视图基本无法修改。</p></li></ul></blockquote><h2 id="二、视图的操作" tabindex="-1"><a class="header-anchor" href="#二、视图的操作" aria-hidden="true">#</a> 二、视图的操作</h2><h3 id="_2-1、创建视图" tabindex="-1"><a class="header-anchor" href="#_2-1、创建视图" aria-hidden="true">#</a> 2.1、创建视图</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 语法</span>\n<span class="token keyword">CREATE</span> <span class="token keyword">VIEW</span> 视图名 <span class="token keyword">AS</span> 查询语句<span class="token punctuation">;</span>\n\n<span class="token comment"># 创建emp_info视图，通过视图从emp表中查询员工编号、姓名、总工资</span>\n<span class="token keyword">CREATE</span> <span class="token keyword">VIEW</span> emp_info\n<span class="token keyword">AS</span>\n<span class="token keyword">SELECT</span> empno <span class="token string">&#39;编号&#39;</span><span class="token punctuation">,</span> ename <span class="token string">&#39;姓名&#39;</span><span class="token punctuation">,</span> sal<span class="token operator">+</span>IFNULL<span class="token punctuation">(</span>comm<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token string">&#39;总工资&#39;</span> <span class="token keyword">FROM</span> emp<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="_2-2、使用视图" tabindex="-1"><a class="header-anchor" href="#_2-2、使用视图" aria-hidden="true">#</a> 2.2、使用视图</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 查询编号为1003的员工信息</span>\n<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> emp_info <span class="token keyword">WHERE</span> 编号<span class="token operator">=</span><span class="token number">1003</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_2-3、修改视图" tabindex="-1"><a class="header-anchor" href="#_2-3、修改视图" aria-hidden="true">#</a> 2.3、修改视图</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 语法 方式1</span>\n<span class="token keyword">CREATE</span> <span class="token operator">OR</span> <span class="token keyword">REPLACE</span> <span class="token keyword">VIEW</span> 视图名 <span class="token keyword">AS</span> 查询语句<span class="token punctuation">;</span>\n<span class="token comment"># 语法 方式2</span>\n<span class="token keyword">ALTER</span> <span class="token keyword">VIEW</span> 视图名 <span class="token keyword">AS</span> 查询语句<span class="token punctuation">;</span>\n\n<span class="token keyword">CREATE</span> <span class="token operator">OR</span> <span class="token keyword">REPLACE</span> <span class="token keyword">VIEW</span> emp_info\n<span class="token keyword">AS</span>\n<span class="token keyword">SELECT</span> empno <span class="token string">&#39;编号&#39;</span><span class="token punctuation">,</span> ename <span class="token string">&#39;姓名&#39;</span><span class="token punctuation">,</span> sal <span class="token string">&#39;基本工资&#39;</span> <span class="token keyword">FROM</span> emp<span class="token punctuation">;</span>\n\n<span class="token keyword">ALTER</span> <span class="token keyword">VIEW</span> emp_info\n<span class="token keyword">AS</span>\n<span class="token keyword">SELECT</span> empno <span class="token string">&#39;编号&#39;</span><span class="token punctuation">,</span> ename <span class="token string">&#39;姓名&#39;</span><span class="token punctuation">,</span> sal <span class="token string">&#39;基本工资&#39;</span> <span class="token keyword">FROM</span> emp<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="_2-4、删除视图" tabindex="-1"><a class="header-anchor" href="#_2-4、删除视图" aria-hidden="true">#</a> 2.4、删除视图</h3><blockquote><p>删除视图不会影响原表</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 语法</span>\n<span class="token keyword">DROP</span> <span class="token keyword">VIEW</span> 视图名<span class="token punctuation">;</span>\n\n<span class="token keyword">DROP</span> <span class="token keyword">VIEW</span> emp_info<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_2-5、注意事项" tabindex="-1"><a class="header-anchor" href="#_2-5、注意事项" aria-hidden="true">#</a> 2.5、注意事项</h3><blockquote><p>视图不会独立存储数据，原表发生改变，视图也发生改变。没有优化任何查询性能。</p><p>如果视图包含以下结构中的一种，则视图不可更新</p><ul><li>聚合函数的结果</li><li>DISTINCT 去重后的结果</li><li>GROUP BY 分组后的结果</li><li>HAVING 筛选过滤后的结果</li><li>UNION、UNION ALL 联合后的结果</li></ul></blockquote>',17),l={},p=(0,a(83744).Z)(l,[["render",function(s,n){return e}]])}}]);